require("class")
require("modulebase")
local uimanager = require("uimanager")

module_login = class(modulebase)
module_login.modulename = "module_login"

module_login.Awake = function(self)
    print("module_login.Awake")
end

module_login.OnModuleEnable = function(self)
    uimanager:AddPackage("Login")
    self.mainView = UIPackage.CreateObject("Login", "MainPanel").asCom
    self.mainView.fairyBatching = true;
    self.mainView:SetSize(GRoot.inst.width, GRoot.inst.height)
    self.mainView:AddRelation(GRoot.inst, RelationType.Size)
    GRoot.inst:AddChild(self.mainView)
end

module_login.OnModuleDisable = function(self)

end

module_login.OnModuleRelease = function(self)
    if self.mainView then
        GRoot.inst:RemoveChild(self.mainView, true)
        uimanager:RemovePackage("Login")
        self.mainView = nil
    end
end