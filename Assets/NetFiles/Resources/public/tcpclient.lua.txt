require("class")

---@class tcpclient
tcpclient = class()

tcpclient.init = function (self, host, port)
    self.host = host
    self.port = port
end

tcpclient.reconnect = function(self)
    self:close()
    if self.scoket == nil then
        self.socket = require("socket")
    end
    self.connection, err = self.socket.connect(self.host, self.port)
    if self.connection == nil and err then
        CS.UnityEngine.Debug.LogError(err)
    end
end

tcpclient.close = function(self)
    if self.connection then
        self.connection:close()
    end
end